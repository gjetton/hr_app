# Generated by Django 5.1.6 on 2025-04-03 21:33

import django.db.models.deletion
import django.utils.timezone
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Certification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField()),
                ('duration_months', models.IntegerField()),
                ('is_site_specific', models.BooleanField(default=False)),
            ],
        ),
        migrations.CreateModel(
            name='Site',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100)),
                ('state', models.CharField(choices=[('AL', 'Alabama'), ('AR', 'Arkansas'), ('FL', 'Florida'), ('LA', 'Louisiana'), ('MS', 'Mississippi'), ('NC', 'North Carolina'), ('OK', 'Oklahoma'), ('TX', 'Texas'), ('OF', 'Offshore')], max_length=2)),
                ('address', models.TextField(blank=True)),
            ],
        ),
        migrations.CreateModel(
            name='AutomobileExpense',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('rate', models.DecimalField(decimal_places=2, help_text='Rate per day or mile, specify in notes', max_digits=6)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField(blank=True, help_text='Leave blank if ongoing', null=True)),
                ('notes', models.TextField(blank=True, help_text="E.g., 'Per mile' or 'Flat daily rate'")),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('assigned_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='auto_expense_assignments', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='auto_expenses', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='Crew',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, unique=True)),
                ('description', models.TextField(blank=True)),
                ('state', models.CharField(blank=True, choices=[('AL', 'Alabama'), ('AR', 'Arkansas'), ('FL', 'Florida'), ('LA', 'Louisiana'), ('MS', 'Mississippi'), ('NC', 'North Carolina'), ('OK', 'Oklahoma'), ('TX', 'Texas'), ('OF', 'Offshore')], help_text='State where this crew operates', max_length=2, null=True)),
                ('leader', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='led_crews', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='CrewAssignment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('assigned_at', models.DateTimeField(auto_now_add=True)),
                ('is_temporary', models.BooleanField(default=False)),
                ('end_date', models.DateField(blank=True, null=True)),
                ('assigned_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('crew', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='assignments', to='hr.crew')),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='crew_assignments', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='EmployeeCertification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('completion_date', models.DateField()),
                ('expiration_date', models.DateField(blank=True, null=True)),
                ('dismissed', models.BooleanField(default=False)),
                ('certification', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='hr.certification')),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='EmployeeForm',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('form_type', models.CharField(choices=[('discipline', 'Discipline'), ('accomplishment', 'Accomplishment'), ('review', 'Review'), ('other', 'Other')], max_length=20)),
                ('document', models.FileField(upload_to='employee_forms/')),
                ('uploaded_at', models.DateTimeField(auto_now_add=True)),
                ('description', models.CharField(blank=True, max_length=255)),
                ('uploaded_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='uploaded_forms', to=settings.AUTH_USER_MODEL)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='EmployeeStat',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('stat_type', models.CharField(choices=[('sick', 'Sick Day'), ('tardy', 'Tardiness'), ('overtime', 'Overtime'), ('vacation', 'Vacation')], max_length=20)),
                ('date', models.DateField()),
                ('hours', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('note', models.TextField(blank=True)),
                ('recorded_at', models.DateTimeField(auto_now_add=True)),
                ('recorded_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='recorded_stats', to=settings.AUTH_USER_MODEL)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='EmploymentApplication',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_of_birth', models.DateField()),
                ('address_line_1', models.CharField(max_length=200)),
                ('address_line_2', models.CharField(blank=True, max_length=200)),
                ('city', models.CharField(max_length=100)),
                ('state', models.CharField(choices=[('AL', 'Alabama'), ('AR', 'Arkansas'), ('FL', 'Florida'), ('LA', 'Louisiana'), ('MS', 'Mississippi'), ('NC', 'North Carolina'), ('OK', 'Oklahoma'), ('TX', 'Texas'), ('OF', 'Offshore')], max_length=2)),
                ('zip_code', models.CharField(max_length=20)),
                ('country', models.CharField(default='United States', max_length=100)),
                ('referred_by', models.CharField(blank=True, max_length=100)),
                ('available_to_start', models.DateField()),
                ('twic', models.BooleanField(default=False)),
                ('position_applying_for', models.CharField(choices=[('Onshore', 'Onshore'), ('Offshore', 'Offshore'), ('Both', 'Both')], max_length=20)),
                ('craft', models.CharField(choices=[('Scaffold', 'Scaffold'), ('Painter/Blaster', 'Painter/Blaster'), ('Insulation', 'Insulation'), ('Helper', 'Helper'), ('Other', 'Other')], max_length=20)),
                ('craft_other', models.CharField(blank=True, max_length=100)),
                ('served_in_military', models.BooleanField(default=False)),
                ('military_branch', models.CharField(blank=True, max_length=100)),
                ('us_citizen', models.BooleanField(default=True)),
                ('work_authorized', models.BooleanField(default=False)),
                ('worked_here_before', models.BooleanField(default=False)),
                ('worked_here_when', models.CharField(blank=True, max_length=100)),
                ('has_transportation', models.BooleanField(default=False)),
                ('has_felony', models.BooleanField(default=False)),
                ('felony_explanation', models.TextField(blank=True)),
                ('high_school', models.CharField(max_length=200)),
                ('high_school_address', models.TextField()),
                ('high_school_graduated', models.BooleanField(default=False)),
                ('high_school_year', models.CharField(blank=True, max_length=4)),
                ('other_school', models.CharField(blank=True, max_length=200)),
                ('other_school_address', models.TextField(blank=True)),
                ('other_school_graduated', models.BooleanField(default=False)),
                ('other_school_year', models.CharField(blank=True, max_length=4)),
                ('skills_training_certs', models.TextField()),
                ('job_1_company', models.CharField(max_length=200)),
                ('job_1_phone', models.CharField(blank=True, max_length=15)),
                ('job_1_address', models.TextField()),
                ('job_1_supervisor', models.CharField(max_length=100)),
                ('job_1_title', models.CharField(max_length=100)),
                ('job_1_start_salary', models.CharField(max_length=50)),
                ('job_1_end_salary', models.CharField(max_length=50)),
                ('job_1_responsibilities', models.TextField()),
                ('job_1_from', models.DateField()),
                ('job_1_to', models.DateField()),
                ('job_1_reason_for_leaving', models.TextField()),
                ('job_1_contact_supervisor', models.BooleanField(default=False)),
                ('job_2_company', models.CharField(blank=True, max_length=200)),
                ('job_2_phone', models.CharField(blank=True, max_length=15)),
                ('job_2_address', models.TextField(blank=True)),
                ('job_2_supervisor', models.CharField(blank=True, max_length=100)),
                ('job_2_title', models.CharField(blank=True, max_length=100)),
                ('job_2_start_salary', models.CharField(blank=True, max_length=50)),
                ('job_2_end_salary', models.CharField(blank=True, max_length=50)),
                ('job_2_responsibilities', models.TextField(blank=True)),
                ('job_2_from', models.DateField(blank=True, null=True)),
                ('job_2_to', models.DateField(blank=True, null=True)),
                ('job_2_reason_for_leaving', models.TextField(blank=True)),
                ('job_2_contact_supervisor', models.BooleanField(default=False)),
                ('job_3_company', models.CharField(blank=True, max_length=200)),
                ('job_3_phone', models.CharField(blank=True, max_length=15)),
                ('job_3_address', models.TextField(blank=True)),
                ('job_3_supervisor', models.CharField(blank=True, max_length=100)),
                ('job_3_title', models.CharField(blank=True, max_length=100)),
                ('job_3_start_salary', models.CharField(blank=True, max_length=50)),
                ('job_3_end_salary', models.CharField(blank=True, max_length=50)),
                ('job_3_responsibilities', models.TextField(blank=True)),
                ('job_3_from', models.DateField(blank=True, null=True)),
                ('job_3_to', models.DateField(blank=True, null=True)),
                ('job_3_reason_for_leaving', models.TextField(blank=True)),
                ('job_3_contact_supervisor', models.BooleanField(default=False)),
                ('ref_1_name', models.CharField(max_length=100)),
                ('ref_1_company', models.CharField(max_length=200)),
                ('ref_1_address', models.TextField()),
                ('ref_1_relationship', models.CharField(max_length=100)),
                ('ref_1_phone', models.CharField(max_length=15)),
                ('ref_2_name', models.CharField(max_length=100)),
                ('ref_2_company', models.CharField(max_length=200)),
                ('ref_2_address', models.TextField()),
                ('ref_2_relationship', models.CharField(max_length=100)),
                ('ref_2_phone', models.CharField(max_length=15)),
                ('ref_3_name', models.CharField(max_length=100)),
                ('ref_3_company', models.CharField(max_length=200)),
                ('ref_3_address', models.TextField()),
                ('ref_3_relationship', models.CharField(max_length=100)),
                ('ref_3_phone', models.CharField(max_length=15)),
                ('disclaimer_agreed', models.BooleanField(default=False)),
                ('submitted_at', models.DateTimeField(auto_now_add=True)),
                ('email_sent', models.BooleanField(default=False)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='ApplicantDocument',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('document', models.FileField(upload_to='documents/')),
                ('uploaded_at', models.DateTimeField(auto_now_add=True)),
                ('description', models.CharField(blank=True, max_length=255)),
                ('application', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='hr.employmentapplication')),
            ],
        ),
        migrations.CreateModel(
            name='HazardReport',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('hazard_type', models.CharField(choices=[('safety', 'Safety'), ('equipment', 'Equipment'), ('environmental', 'Environmental'), ('other', 'Other')], max_length=20)),
                ('description', models.TextField()),
                ('photo', models.ImageField(blank=True, null=True, upload_to='hazard_photos/')),
                ('reported_at', models.DateTimeField(auto_now_add=True)),
                ('is_silenced', models.BooleanField(default=False)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='Jobsite',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, unique=True)),
                ('location', models.CharField(blank=True, max_length=200, null=True)),
                ('site_specific_training', models.CharField(blank=True, help_text='Custom training required for this site', max_length=200, null=True)),
                ('required_certifications', models.ManyToManyField(blank=True, related_name='jobsites', to='hr.certification')),
            ],
        ),
        migrations.AddField(
            model_name='crew',
            name='default_site',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='hr.jobsite'),
        ),
        migrations.CreateModel(
            name='PerDiem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('rate', models.DecimalField(decimal_places=2, help_text='Daily rate in dollars', max_digits=6)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField(blank=True, help_text='Leave blank if ongoing', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('assigned_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='perdiem_assignments', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='perdiems', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Per Diem',
                'verbose_name_plural': 'Per Diems',
            },
        ),
        migrations.CreateModel(
            name='Profile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('picture', models.ImageField(blank=True, null=True, upload_to='profile_pics/')),
                ('cell_number', models.CharField(blank=True, max_length=20)),
                ('is_employee', models.BooleanField(default=False)),
                ('is_active', models.BooleanField(default=True)),
                ('can_upload_documents', models.BooleanField(default=False)),
                ('is_crew_leader', models.BooleanField(default=False)),
                ('hire_date', models.DateField(blank=True, null=True)),
                ('pay_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('middle_initial', models.CharField(blank=True, max_length=1)),
                ('employee_id', models.CharField(blank=True, max_length=20, null=True, unique=True)),
                ('termination_date', models.DateField(blank=True, null=True)),
                ('notes', models.TextField(blank=True)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='Signature',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('signature_image', models.ImageField(upload_to='signatures/')),
                ('signed_at', models.DateTimeField(auto_now_add=True)),
                ('employment_application', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to='hr.employmentapplication')),
            ],
        ),
        migrations.CreateModel(
            name='StaffMessage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('message', models.TextField()),
                ('posted_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('posted_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-posted_at'],
            },
        ),
        migrations.CreateModel(
            name='SubmissionToken',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('token', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('expires_at', models.DateTimeField()),
                ('is_used', models.BooleanField(default=False)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='Suggestion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('suggestion_text', models.TextField()),
                ('submitted_at', models.DateTimeField(auto_now_add=True)),
                ('is_silenced', models.BooleanField(default=False)),
                ('user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='Timeclock',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('clock_in', models.DateTimeField()),
                ('clock_out', models.DateTimeField(blank=True, null=True)),
                ('latitude', models.FloatField(blank=True, null=True)),
                ('longitude', models.FloatField(blank=True, null=True)),
                ('recorded_at', models.DateTimeField(auto_now_add=True)),
                ('hours_type', models.CharField(choices=[('regular', 'Regular'), ('ot1', 'Overtime 1')], default='regular', max_length=7)),
                ('shift', models.CharField(blank=True, max_length=50)),
                ('wc_code', models.CharField(blank=True, max_length=10)),
                ('task_code', models.CharField(blank=True, max_length=20)),
                ('job_id', models.CharField(blank=True, max_length=20)),
                ('phase', models.CharField(blank=True, max_length=20)),
                ('project_no', models.CharField(blank=True, max_length=50)),
                ('tkt_no', models.CharField(blank=True, max_length=20)),
                ('perdiem', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('location', models.CharField(blank=True, max_length=100)),
                ('non_bill', models.CharField(blank=True, choices=[('', 'Blank'), ('y', 'Yes')], default='', max_length=1)),
                ('invoice_no', models.CharField(blank=True, max_length=20)),
                ('dept', models.CharField(blank=True, max_length=2)),
                ('notes', models.TextField(blank=True)),
                ('crew', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='hr.crew')),
                ('recorded_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='recorded_timeclocks', to=settings.AUTH_USER_MODEL)),
                ('site', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='hr.jobsite')),
                ('supervisor', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='supervised_timeclocks', to=settings.AUTH_USER_MODEL)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='TrainingRecord',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('training_type', models.CharField(max_length=100)),
                ('completion_date', models.DateField()),
                ('renewal_date', models.DateField(blank=True, null=True)),
                ('note', models.TextField(blank=True)),
                ('recorded_at', models.DateTimeField(auto_now_add=True)),
                ('recorded_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='recorded_trainings', to=settings.AUTH_USER_MODEL)),
                ('site', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='hr.jobsite')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
    ]
